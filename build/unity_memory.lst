ARM GAS  /tmp/cc8lDV7w.s 			page 1


   1              		.cpu cortex-m3
   2              		.arch armv7-m
   3              		.fpu softvfp
   4              		.eabi_attribute 20, 1
   5              		.eabi_attribute 21, 1
   6              		.eabi_attribute 23, 3
   7              		.eabi_attribute 24, 1
   8              		.eabi_attribute 25, 1
   9              		.eabi_attribute 26, 1
  10              		.eabi_attribute 30, 1
  11              		.eabi_attribute 34, 1
  12              		.eabi_attribute 18, 4
  13              		.file	"unity_memory.c"
  14              		.text
  15              	.Ltext0:
  16              		.cfi_sections	.debug_frame
  17              		.file 1 "External/Unity-2.5.2/extras/memory/src/unity_memory.c"
  18              		.section	.text.unity_size_round_up,"ax",%progbits
  19              		.align	1
  20              		.syntax unified
  21              		.thumb
  22              		.thumb_func
  24              	unity_size_round_up:
  25              	.LVL0:
  26              	.LFB3:
   1:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** /* ==========================================
   2:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****  *  Unity Project - A Test Framework for C
   3:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****  *  Copyright (c) 2007 Mike Karlesky, Mark VanderVoord, Greg Williams
   4:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****  *  [Released under MIT License. Please refer to license.txt for details]
   5:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****  * ========================================== */
   6:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
   7:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #include "unity.h"
   8:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #include "unity_memory.h"
   9:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #include <string.h>
  10:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  11:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #define MALLOC_DONT_FAIL -1
  12:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static int malloc_count;
  13:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static int malloc_fail_countdown = MALLOC_DONT_FAIL;
  14:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  15:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void UnityMalloc_StartTest(void)
  16:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  17:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_count = 0;
  18:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = MALLOC_DONT_FAIL;
  19:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
  20:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  21:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void UnityMalloc_EndTest(void)
  22:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  23:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = MALLOC_DONT_FAIL;
  24:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (malloc_count != 0)
  25:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
  26:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         UNITY_TEST_FAIL(Unity.CurrentTestLineNumber, "This test leaks!");
  27:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
  28:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
  29:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  30:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void UnityMalloc_MakeMallocFailAfterCount(int countdown)
  31:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  32:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = countdown;
ARM GAS  /tmp/cc8lDV7w.s 			page 2


  33:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
  34:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  35:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** /* These definitions are always included from unity_fixture_malloc_overrides.h */
  36:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** /* We undef to use them or avoid conflict with <stdlib.h> per the C standard */
  37:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #undef malloc
  38:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #undef free
  39:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #undef calloc
  40:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #undef realloc
  41:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  42:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC
  43:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static unsigned char unity_heap[UNITY_INTERNAL_HEAP_SIZE_BYTES];
  44:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static size_t heap_index;
  45:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #else
  46:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #include <stdlib.h>
  47:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #endif
  48:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  49:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** typedef struct GuardBytes
  50:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  51:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     size_t size;
  52:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     size_t guard_space;
  53:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** } Guard;
  54:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  55:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #define UNITY_MALLOC_ALIGNMENT (UNITY_POINTER_WIDTH / 8)
  56:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static const char end[] = "END";
  57:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  58:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static size_t unity_size_round_up(size_t size)
  59:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  27              		.loc 1 59 1 view -0
  28              		.cfi_startproc
  29              		@ args = 0, pretend = 0, frame = 0
  30              		@ frame_needed = 0, uses_anonymous_args = 0
  31              		@ link register save eliminated.
  60:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     size_t rounded_size;
  32              		.loc 1 60 5 view .LVU1
  61:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  62:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     rounded_size = ((size + UNITY_MALLOC_ALIGNMENT - 1) / UNITY_MALLOC_ALIGNMENT) * UNITY_MALLOC_AL
  33              		.loc 1 62 5 view .LVU2
  34              		.loc 1 62 52 is_stmt 0 view .LVU3
  35 0000 0330     		adds	r0, r0, #3
  36              	.LVL1:
  63:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  64:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     return rounded_size;
  37              		.loc 1 64 5 is_stmt 1 view .LVU4
  65:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
  38              		.loc 1 65 1 is_stmt 0 view .LVU5
  39 0002 20F00300 		bic	r0, r0, #3
  40              	.LVL2:
  41              		.loc 1 65 1 view .LVU6
  42 0006 7047     		bx	lr
  43              		.cfi_endproc
  44              	.LFE3:
  46              		.section	.text.isOverrun,"ax",%progbits
  47              		.align	1
  48              		.syntax unified
  49              		.thumb
  50              		.thumb_func
  52              	isOverrun:
ARM GAS  /tmp/cc8lDV7w.s 			page 3


  53              	.LVL3:
  54              	.LFB5:
  66:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  67:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void* unity_malloc(size_t size)
  68:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  69:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     char* mem;
  70:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     Guard* guard;
  71:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     size_t total_size;
  72:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  73:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     total_size = sizeof(Guard) + unity_size_round_up(size + sizeof(end));
  74:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  75:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (malloc_fail_countdown != MALLOC_DONT_FAIL)
  76:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
  77:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         if (malloc_fail_countdown == 0)
  78:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             return NULL;
  79:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         malloc_fail_countdown--;
  80:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
  81:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
  82:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (size == 0) return NULL;
  83:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC
  84:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (heap_index + total_size > UNITY_INTERNAL_HEAP_SIZE_BYTES)
  85:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
  86:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         guard = NULL;
  87:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
  88:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     else
  89:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
  90:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         /* We know we can get away with this cast because we aligned memory already */
  91:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         guard = (Guard*)(void*)(&unity_heap[heap_index]);
  92:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         heap_index += total_size;
  93:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
  94:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #else
  95:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard = (Guard*)UNITY_MALLOC(total_size);
  96:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #endif
  97:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (guard == NULL) return NULL;
  98:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_count++;
  99:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard->size = size;
 100:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard->guard_space = 0;
 101:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     mem = (char*)&(guard[1]);
 102:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(&mem[size], end, sizeof(end));
 103:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 104:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     return (void*)mem;
 105:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 106:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 107:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static int isOverrun(void* mem)
 108:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
  55              		.loc 1 108 1 is_stmt 1 view -0
  56              		.cfi_startproc
  57              		@ args = 0, pretend = 0, frame = 0
  58              		@ frame_needed = 0, uses_anonymous_args = 0
  59              		.loc 1 108 1 is_stmt 0 view .LVU8
  60 0000 08B5     		push	{r3, lr}
  61              	.LCFI0:
  62              		.cfi_def_cfa_offset 8
  63              		.cfi_offset 3, -8
  64              		.cfi_offset 14, -4
 109:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     Guard* guard = (Guard*)mem;
  65              		.loc 1 109 5 is_stmt 1 view .LVU9
ARM GAS  /tmp/cc8lDV7w.s 			page 4


  66              	.LVL4:
 110:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     char* memAsChar = (char*)mem;
  67              		.loc 1 110 5 view .LVU10
 111:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard--;
  68              		.loc 1 111 5 view .LVU11
 112:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 113:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     return guard->guard_space != 0 || strcmp(&memAsChar[guard->size], end) != 0;
  69              		.loc 1 113 5 view .LVU12
  70              		.loc 1 113 17 is_stmt 0 view .LVU13
  71 0002 50F8043C 		ldr	r3, [r0, #-4]
  72              		.loc 1 113 36 view .LVU14
  73 0006 43B9     		cbnz	r3, .L4
  74              		.loc 1 113 62 discriminator 2 view .LVU15
  75 0008 50F8083C 		ldr	r3, [r0, #-8]
  76              		.loc 1 113 39 discriminator 2 view .LVU16
  77 000c 0449     		ldr	r1, .L6
  78 000e 1844     		add	r0, r0, r3
  79              	.LVL5:
  80              		.loc 1 113 39 discriminator 2 view .LVU17
  81 0010 FFF7FEFF 		bl	strcmp
  82              	.LVL6:
  83              		.loc 1 113 36 discriminator 1 view .LVU18
  84 0014 10B1     		cbz	r0, .L2
  85              		.loc 1 113 36 discriminator 3 view .LVU19
  86 0016 0120     		movs	r0, #1
  87 0018 00E0     		b	.L2
  88              	.LVL7:
  89              	.L4:
  90              		.loc 1 113 36 discriminator 3 view .LVU20
  91 001a 0120     		movs	r0, #1
  92              	.LVL8:
  93              	.L2:
 114:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
  94              		.loc 1 114 1 view .LVU21
  95 001c 08BD     		pop	{r3, pc}
  96              	.L7:
  97 001e 00BF     		.align	2
  98              	.L6:
  99 0020 00000000 		.word	end
 100              		.cfi_endproc
 101              	.LFE5:
 103              		.section	.text.release_memory,"ax",%progbits
 104              		.align	1
 105              		.syntax unified
 106              		.thumb
 107              		.thumb_func
 109              	release_memory:
 110              	.LVL9:
 111              	.LFB6:
 115:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 116:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** static void release_memory(void* mem)
 117:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
 112              		.loc 1 117 1 is_stmt 1 view -0
 113              		.cfi_startproc
 114              		@ args = 0, pretend = 0, frame = 0
 115              		@ frame_needed = 0, uses_anonymous_args = 0
 116              		.loc 1 117 1 is_stmt 0 view .LVU23
ARM GAS  /tmp/cc8lDV7w.s 			page 5


 117 0000 08B5     		push	{r3, lr}
 118              	.LCFI1:
 119              		.cfi_def_cfa_offset 8
 120              		.cfi_offset 3, -8
 121              		.cfi_offset 14, -4
 118:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     Guard* guard = (Guard*)mem;
 122              		.loc 1 118 5 is_stmt 1 view .LVU24
 123              	.LVL10:
 119:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard--;
 124              		.loc 1 119 5 view .LVU25
 120:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 121:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_count--;
 125              		.loc 1 121 5 view .LVU26
 126              		.loc 1 121 17 is_stmt 0 view .LVU27
 127 0002 044A     		ldr	r2, .L10
 128 0004 1368     		ldr	r3, [r2]
 129 0006 013B     		subs	r3, r3, #1
 130 0008 1360     		str	r3, [r2]
 122:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC
 123:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 124:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         size_t block_size;
 125:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 126:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         block_size = unity_size_round_up(guard->size + sizeof(end));
 127:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 128:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         if (mem == unity_heap + heap_index - block_size)
 129:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         {
 130:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             heap_index -= (sizeof(Guard) + block_size);
 131:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         }
 132:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 133:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #else
 134:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     UNITY_FREE(guard);
 131              		.loc 1 134 5 is_stmt 1 view .LVU28
 132 000a 0838     		subs	r0, r0, #8
 133              	.LVL11:
 134              		.loc 1 134 5 is_stmt 0 view .LVU29
 135 000c FFF7FEFF 		bl	free
 136              	.LVL12:
 135:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #endif
 136:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 137              		.loc 1 136 1 view .LVU30
 138 0010 08BD     		pop	{r3, pc}
 139              	.L11:
 140 0012 00BF     		.align	2
 141              	.L10:
 142 0014 00000000 		.word	malloc_count
 143              		.cfi_endproc
 144              	.LFE6:
 146              		.section	.text.UnityMalloc_StartTest,"ax",%progbits
 147              		.align	1
 148              		.global	UnityMalloc_StartTest
 149              		.syntax unified
 150              		.thumb
 151              		.thumb_func
 153              	UnityMalloc_StartTest:
 154              	.LFB0:
  16:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_count = 0;
 155              		.loc 1 16 1 is_stmt 1 view -0
ARM GAS  /tmp/cc8lDV7w.s 			page 6


 156              		.cfi_startproc
 157              		@ args = 0, pretend = 0, frame = 0
 158              		@ frame_needed = 0, uses_anonymous_args = 0
 159              		@ link register save eliminated.
  17:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = MALLOC_DONT_FAIL;
 160              		.loc 1 17 5 view .LVU32
  17:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = MALLOC_DONT_FAIL;
 161              		.loc 1 17 18 is_stmt 0 view .LVU33
 162 0000 034B     		ldr	r3, .L13
 163 0002 0022     		movs	r2, #0
 164 0004 1A60     		str	r2, [r3]
  18:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 165              		.loc 1 18 5 is_stmt 1 view .LVU34
  18:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 166              		.loc 1 18 27 is_stmt 0 view .LVU35
 167 0006 034B     		ldr	r3, .L13+4
 168 0008 4FF0FF32 		mov	r2, #-1
 169 000c 1A60     		str	r2, [r3]
  19:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 170              		.loc 1 19 1 view .LVU36
 171 000e 7047     		bx	lr
 172              	.L14:
 173              		.align	2
 174              	.L13:
 175 0010 00000000 		.word	malloc_count
 176 0014 00000000 		.word	malloc_fail_countdown
 177              		.cfi_endproc
 178              	.LFE0:
 180              		.section	.rodata.UnityMalloc_EndTest.str1.4,"aMS",%progbits,1
 181              		.align	2
 182              	.LC0:
 183 0000 54686973 		.ascii	"This test leaks!\000"
 183      20746573 
 183      74206C65 
 183      616B7321 
 183      00
 184              		.section	.text.UnityMalloc_EndTest,"ax",%progbits
 185              		.align	1
 186              		.global	UnityMalloc_EndTest
 187              		.syntax unified
 188              		.thumb
 189              		.thumb_func
 191              	UnityMalloc_EndTest:
 192              	.LFB1:
  22:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = MALLOC_DONT_FAIL;
 193              		.loc 1 22 1 is_stmt 1 view -0
 194              		.cfi_startproc
 195              		@ args = 0, pretend = 0, frame = 0
 196              		@ frame_needed = 0, uses_anonymous_args = 0
 197 0000 08B5     		push	{r3, lr}
 198              	.LCFI2:
 199              		.cfi_def_cfa_offset 8
 200              		.cfi_offset 3, -8
 201              		.cfi_offset 14, -4
  23:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (malloc_count != 0)
 202              		.loc 1 23 5 view .LVU38
  23:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (malloc_count != 0)
ARM GAS  /tmp/cc8lDV7w.s 			page 7


 203              		.loc 1 23 27 is_stmt 0 view .LVU39
 204 0002 064B     		ldr	r3, .L19
 205 0004 4FF0FF32 		mov	r2, #-1
 206 0008 1A60     		str	r2, [r3]
  24:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 207              		.loc 1 24 5 is_stmt 1 view .LVU40
  24:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 208              		.loc 1 24 22 is_stmt 0 view .LVU41
 209 000a 054B     		ldr	r3, .L19+4
 210 000c 1B68     		ldr	r3, [r3]
  24:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 211              		.loc 1 24 8 view .LVU42
 212 000e 03B9     		cbnz	r3, .L18
  28:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 213              		.loc 1 28 1 view .LVU43
 214 0010 08BD     		pop	{r3, pc}
 215              	.L18:
  26:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 216              		.loc 1 26 9 is_stmt 1 view .LVU44
 217 0012 044B     		ldr	r3, .L19+8
 218 0014 1969     		ldr	r1, [r3, #16]
 219 0016 0448     		ldr	r0, .L19+12
 220 0018 FFF7FEFF 		bl	UnityFail
 221              	.LVL13:
 222              	.L20:
 223              		.align	2
 224              	.L19:
 225 001c 00000000 		.word	malloc_fail_countdown
 226 0020 00000000 		.word	malloc_count
 227 0024 00000000 		.word	Unity
 228 0028 00000000 		.word	.LC0
 229              		.cfi_endproc
 230              	.LFE1:
 232              		.section	.text.UnityMalloc_MakeMallocFailAfterCount,"ax",%progbits
 233              		.align	1
 234              		.global	UnityMalloc_MakeMallocFailAfterCount
 235              		.syntax unified
 236              		.thumb
 237              		.thumb_func
 239              	UnityMalloc_MakeMallocFailAfterCount:
 240              	.LVL14:
 241              	.LFB2:
  31:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_fail_countdown = countdown;
 242              		.loc 1 31 1 view -0
 243              		.cfi_startproc
 244              		@ args = 0, pretend = 0, frame = 0
 245              		@ frame_needed = 0, uses_anonymous_args = 0
 246              		@ link register save eliminated.
  32:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 247              		.loc 1 32 5 view .LVU46
  32:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 248              		.loc 1 32 27 is_stmt 0 view .LVU47
 249 0000 014B     		ldr	r3, .L22
 250 0002 1860     		str	r0, [r3]
  33:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 251              		.loc 1 33 1 view .LVU48
 252 0004 7047     		bx	lr
ARM GAS  /tmp/cc8lDV7w.s 			page 8


 253              	.L23:
 254 0006 00BF     		.align	2
 255              	.L22:
 256 0008 00000000 		.word	malloc_fail_countdown
 257              		.cfi_endproc
 258              	.LFE2:
 260              		.section	.rodata.unity_malloc.str1.4,"aMS",%progbits,1
 261              		.align	2
 262              	.LC1:
 263 0000 454E4400 		.ascii	"END\000"
 264              		.section	.text.unity_malloc,"ax",%progbits
 265              		.align	1
 266              		.global	unity_malloc
 267              		.syntax unified
 268              		.thumb
 269              		.thumb_func
 271              	unity_malloc:
 272              	.LVL15:
 273              	.LFB4:
  68:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     char* mem;
 274              		.loc 1 68 1 is_stmt 1 view -0
 275              		.cfi_startproc
 276              		@ args = 0, pretend = 0, frame = 0
 277              		@ frame_needed = 0, uses_anonymous_args = 0
  68:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     char* mem;
 278              		.loc 1 68 1 is_stmt 0 view .LVU50
 279 0000 10B5     		push	{r4, lr}
 280              	.LCFI3:
 281              		.cfi_def_cfa_offset 8
 282              		.cfi_offset 4, -8
 283              		.cfi_offset 14, -4
 284 0002 0446     		mov	r4, r0
  69:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     Guard* guard;
 285              		.loc 1 69 5 is_stmt 1 view .LVU51
  70:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     size_t total_size;
 286              		.loc 1 70 5 view .LVU52
  71:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 287              		.loc 1 71 5 view .LVU53
  73:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 288              		.loc 1 73 5 view .LVU54
  73:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 289              		.loc 1 73 34 is_stmt 0 view .LVU55
 290 0004 0430     		adds	r0, r0, #4
 291              	.LVL16:
  73:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 292              		.loc 1 73 34 view .LVU56
 293 0006 FFF7FEFF 		bl	unity_size_round_up
 294              	.LVL17:
  73:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 295              		.loc 1 73 16 discriminator 1 view .LVU57
 296 000a 0830     		adds	r0, r0, #8
 297              	.LVL18:
  75:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 298              		.loc 1 75 5 is_stmt 1 view .LVU58
  75:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 299              		.loc 1 75 31 is_stmt 0 view .LVU59
 300 000c 0F4B     		ldr	r3, .L30
ARM GAS  /tmp/cc8lDV7w.s 			page 9


 301 000e 1B68     		ldr	r3, [r3]
  75:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 302              		.loc 1 75 8 view .LVU60
 303 0010 B3F1FF3F 		cmp	r3, #-1
 304 0014 03D0     		beq	.L25
  77:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             return NULL;
 305              		.loc 1 77 9 is_stmt 1 view .LVU61
  77:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             return NULL;
 306              		.loc 1 77 12 is_stmt 0 view .LVU62
 307 0016 A3B1     		cbz	r3, .L27
  79:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 308              		.loc 1 79 9 is_stmt 1 view .LVU63
  79:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 309              		.loc 1 79 30 is_stmt 0 view .LVU64
 310 0018 013B     		subs	r3, r3, #1
 311 001a 0C4A     		ldr	r2, .L30
 312 001c 1360     		str	r3, [r2]
 313              	.L25:
  82:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC
 314              		.loc 1 82 5 is_stmt 1 view .LVU65
  82:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC
 315              		.loc 1 82 8 is_stmt 0 view .LVU66
 316 001e 94B1     		cbz	r4, .L28
  95:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #endif
 317              		.loc 1 95 5 is_stmt 1 view .LVU67
  95:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #endif
 318              		.loc 1 95 21 is_stmt 0 view .LVU68
 319 0020 FFF7FEFF 		bl	malloc
 320              	.LVL19:
  97:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_count++;
 321              		.loc 1 97 5 is_stmt 1 view .LVU69
  97:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     malloc_count++;
 322              		.loc 1 97 8 is_stmt 0 view .LVU70
 323 0024 0346     		mov	r3, r0
 324 0026 50B1     		cbz	r0, .L24
  98:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard->size = size;
 325              		.loc 1 98 5 is_stmt 1 view .LVU71
  98:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard->size = size;
 326              		.loc 1 98 17 is_stmt 0 view .LVU72
 327 0028 0949     		ldr	r1, .L30+4
 328 002a 0A68     		ldr	r2, [r1]
 329 002c 0132     		adds	r2, r2, #1
 330 002e 0A60     		str	r2, [r1]
  99:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard->guard_space = 0;
 331              		.loc 1 99 5 is_stmt 1 view .LVU73
  99:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard->guard_space = 0;
 332              		.loc 1 99 17 is_stmt 0 view .LVU74
 333 0030 0460     		str	r4, [r0]
 100:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     mem = (char*)&(guard[1]);
 334              		.loc 1 100 5 is_stmt 1 view .LVU75
 100:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     mem = (char*)&(guard[1]);
 335              		.loc 1 100 24 is_stmt 0 view .LVU76
 336 0032 0022     		movs	r2, #0
 337 0034 4260     		str	r2, [r0, #4]
 101:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(&mem[size], end, sizeof(end));
 338              		.loc 1 101 5 is_stmt 1 view .LVU77
 101:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(&mem[size], end, sizeof(end));
ARM GAS  /tmp/cc8lDV7w.s 			page 10


 339              		.loc 1 101 9 is_stmt 0 view .LVU78
 340 0036 0833     		adds	r3, r3, #8
 341              	.LVL20:
 102:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 342              		.loc 1 102 5 is_stmt 1 view .LVU79
 343 0038 064A     		ldr	r2, .L30+8
 344 003a 1068     		ldr	r0, [r2]
 345              	.LVL21:
 102:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 346              		.loc 1 102 5 is_stmt 0 view .LVU80
 347 003c 1851     		str	r0, [r3, r4]	@ unaligned
 104:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 348              		.loc 1 104 5 is_stmt 1 view .LVU81
 349              	.LVL22:
 350              	.L24:
 105:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 351              		.loc 1 105 1 is_stmt 0 view .LVU82
 352 003e 1846     		mov	r0, r3
 353 0040 10BD     		pop	{r4, pc}
 354              	.LVL23:
 355              	.L27:
  78:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         malloc_fail_countdown--;
 356              		.loc 1 78 20 view .LVU83
 357 0042 0023     		movs	r3, #0
 358 0044 FBE7     		b	.L24
 359              	.L28:
  82:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC
 360              		.loc 1 82 27 discriminator 1 view .LVU84
 361 0046 0023     		movs	r3, #0
 362 0048 F9E7     		b	.L24
 363              	.L31:
 364 004a 00BF     		.align	2
 365              	.L30:
 366 004c 00000000 		.word	malloc_fail_countdown
 367 0050 00000000 		.word	malloc_count
 368 0054 00000000 		.word	.LC1
 369              		.cfi_endproc
 370              	.LFE4:
 372              		.section	.rodata.unity_free.str1.4,"aMS",%progbits,1
 373              		.align	2
 374              	.LC2:
 375 0000 42756666 		.ascii	"Buffer overrun detected during free()\000"
 375      6572206F 
 375      76657272 
 375      756E2064 
 375      65746563 
 376              		.section	.text.unity_free,"ax",%progbits
 377              		.align	1
 378              		.global	unity_free
 379              		.syntax unified
 380              		.thumb
 381              		.thumb_func
 383              	unity_free:
 384              	.LVL24:
 385              	.LFB7:
 137:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 138:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void unity_free(void* mem)
ARM GAS  /tmp/cc8lDV7w.s 			page 11


 139:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
 386              		.loc 1 139 1 is_stmt 1 view -0
 387              		.cfi_startproc
 388              		@ args = 0, pretend = 0, frame = 0
 389              		@ frame_needed = 0, uses_anonymous_args = 0
 140:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     int overrun;
 390              		.loc 1 140 5 view .LVU86
 141:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 142:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (mem == NULL)
 391              		.loc 1 142 5 view .LVU87
 392              		.loc 1 142 8 is_stmt 0 view .LVU88
 393 0000 70B1     		cbz	r0, .L35
 139:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     int overrun;
 394              		.loc 1 139 1 view .LVU89
 395 0002 38B5     		push	{r3, r4, r5, lr}
 396              	.LCFI4:
 397              		.cfi_def_cfa_offset 16
 398              		.cfi_offset 3, -16
 399              		.cfi_offset 4, -12
 400              		.cfi_offset 5, -8
 401              		.cfi_offset 14, -4
 402 0004 0546     		mov	r5, r0
 143:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 144:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         return;
 145:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 146:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 147:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     overrun = isOverrun(mem);
 403              		.loc 1 147 5 is_stmt 1 view .LVU90
 404              		.loc 1 147 15 is_stmt 0 view .LVU91
 405 0006 FFF7FEFF 		bl	isOverrun
 406              	.LVL25:
 407              		.loc 1 147 15 view .LVU92
 408 000a 0446     		mov	r4, r0
 409              	.LVL26:
 148:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     release_memory(mem);
 410              		.loc 1 148 5 is_stmt 1 view .LVU93
 411 000c 2846     		mov	r0, r5
 412              	.LVL27:
 413              		.loc 1 148 5 is_stmt 0 view .LVU94
 414 000e FFF7FEFF 		bl	release_memory
 415              	.LVL28:
 149:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (overrun)
 416              		.loc 1 149 5 is_stmt 1 view .LVU95
 417              		.loc 1 149 8 is_stmt 0 view .LVU96
 418 0012 04B9     		cbnz	r4, .L38
 150:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 151:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         UNITY_TEST_FAIL(Unity.CurrentTestLineNumber, "Buffer overrun detected during free()");
 152:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 153:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 419              		.loc 1 153 1 view .LVU97
 420 0014 38BD     		pop	{r3, r4, r5, pc}
 421              	.LVL29:
 422              	.L38:
 151:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 423              		.loc 1 151 9 is_stmt 1 view .LVU98
 424 0016 034B     		ldr	r3, .L39
 425 0018 1969     		ldr	r1, [r3, #16]
ARM GAS  /tmp/cc8lDV7w.s 			page 12


 426 001a 0348     		ldr	r0, .L39+4
 427 001c FFF7FEFF 		bl	UnityFail
 428              	.LVL30:
 429              	.L35:
 430              	.LCFI5:
 431              		.cfi_def_cfa_offset 0
 432              		.cfi_restore 3
 433              		.cfi_restore 4
 434              		.cfi_restore 5
 435              		.cfi_restore 14
 151:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 436              		.loc 1 151 9 is_stmt 0 view .LVU99
 437 0020 7047     		bx	lr
 438              	.L40:
 439 0022 00BF     		.align	2
 440              	.L39:
 441 0024 00000000 		.word	Unity
 442 0028 00000000 		.word	.LC2
 443              		.cfi_endproc
 444              	.LFE7:
 446              		.section	.text.unity_calloc,"ax",%progbits
 447              		.align	1
 448              		.global	unity_calloc
 449              		.syntax unified
 450              		.thumb
 451              		.thumb_func
 453              	unity_calloc:
 454              	.LVL31:
 455              	.LFB8:
 154:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 155:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void* unity_calloc(size_t num, size_t size)
 156:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
 456              		.loc 1 156 1 is_stmt 1 view -0
 457              		.cfi_startproc
 458              		@ args = 0, pretend = 0, frame = 0
 459              		@ frame_needed = 0, uses_anonymous_args = 0
 460              		.loc 1 156 1 is_stmt 0 view .LVU101
 461 0000 38B5     		push	{r3, r4, r5, lr}
 462              	.LCFI6:
 463              		.cfi_def_cfa_offset 16
 464              		.cfi_offset 3, -16
 465              		.cfi_offset 4, -12
 466              		.cfi_offset 5, -8
 467              		.cfi_offset 14, -4
 157:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     void* mem = unity_malloc(num * size);
 468              		.loc 1 157 5 is_stmt 1 view .LVU102
 469              		.loc 1 157 17 is_stmt 0 view .LVU103
 470 0002 01FB00F4 		mul	r4, r1, r0
 471 0006 2046     		mov	r0, r4
 472              	.LVL32:
 473              		.loc 1 157 17 view .LVU104
 474 0008 FFF7FEFF 		bl	unity_malloc
 475              	.LVL33:
 158:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (mem == NULL) return NULL;
 476              		.loc 1 158 5 is_stmt 1 view .LVU105
 477              		.loc 1 158 8 is_stmt 0 view .LVU106
 478 000c 0546     		mov	r5, r0
ARM GAS  /tmp/cc8lDV7w.s 			page 13


 479 000e 18B1     		cbz	r0, .L41
 159:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memset(mem, 0, num * size);
 480              		.loc 1 159 5 is_stmt 1 view .LVU107
 481 0010 2246     		mov	r2, r4
 482 0012 0021     		movs	r1, #0
 483 0014 FFF7FEFF 		bl	memset
 484              	.LVL34:
 160:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     return mem;
 485              		.loc 1 160 5 view .LVU108
 486              	.L41:
 161:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 487              		.loc 1 161 1 is_stmt 0 view .LVU109
 488 0018 2846     		mov	r0, r5
 489 001a 38BD     		pop	{r3, r4, r5, pc}
 490              		.loc 1 161 1 view .LVU110
 491              		.cfi_endproc
 492              	.LFE8:
 494              		.section	.rodata.unity_realloc.str1.4,"aMS",%progbits,1
 495              		.align	2
 496              	.LC3:
 497 0000 42756666 		.ascii	"Buffer overrun detected during realloc()\000"
 497      6572206F 
 497      76657272 
 497      756E2064 
 497      65746563 
 498              		.section	.text.unity_realloc,"ax",%progbits
 499              		.align	1
 500              		.global	unity_realloc
 501              		.syntax unified
 502              		.thumb
 503              		.thumb_func
 505              	unity_realloc:
 506              	.LVL35:
 507              	.LFB9:
 162:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 163:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** void* unity_realloc(void* oldMem, size_t size)
 164:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** {
 508              		.loc 1 164 1 is_stmt 1 view -0
 509              		.cfi_startproc
 510              		@ args = 0, pretend = 0, frame = 0
 511              		@ frame_needed = 0, uses_anonymous_args = 0
 512              		.loc 1 164 1 is_stmt 0 view .LVU112
 513 0000 38B5     		push	{r3, r4, r5, lr}
 514              	.LCFI7:
 515              		.cfi_def_cfa_offset 16
 516              		.cfi_offset 3, -16
 517              		.cfi_offset 4, -12
 518              		.cfi_offset 5, -8
 519              		.cfi_offset 14, -4
 520 0002 0C46     		mov	r4, r1
 165:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     Guard* guard = (Guard*)oldMem;
 521              		.loc 1 165 5 is_stmt 1 view .LVU113
 522              	.LVL36:
 166:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     void* newMem;
 523              		.loc 1 166 5 view .LVU114
 167:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 168:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (oldMem == NULL) return unity_malloc(size);
ARM GAS  /tmp/cc8lDV7w.s 			page 14


 524              		.loc 1 168 5 view .LVU115
 525              		.loc 1 168 8 is_stmt 0 view .LVU116
 526 0004 58B1     		cbz	r0, .L51
 527 0006 0546     		mov	r5, r0
 169:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 170:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     guard--;
 528              		.loc 1 170 5 is_stmt 1 view .LVU117
 529              	.LVL37:
 171:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (isOverrun(oldMem))
 530              		.loc 1 171 5 view .LVU118
 531              		.loc 1 171 9 is_stmt 0 view .LVU119
 532 0008 FFF7FEFF 		bl	isOverrun
 533              	.LVL38:
 534              		.loc 1 171 8 discriminator 1 view .LVU120
 535 000c 60B9     		cbnz	r0, .L52
 172:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 173:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         release_memory(oldMem);
 174:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         UNITY_TEST_FAIL(Unity.CurrentTestLineNumber, "Buffer overrun detected during realloc()");
 175:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 176:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 177:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (size == 0)
 536              		.loc 1 177 5 is_stmt 1 view .LVU121
 537              		.loc 1 177 8 is_stmt 0 view .LVU122
 538 000e 9CB1     		cbz	r4, .L53
 178:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 179:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         release_memory(oldMem);
 180:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         return NULL;
 181:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 182:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 183:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (guard->size >= size) return oldMem;
 539              		.loc 1 183 5 is_stmt 1 view .LVU123
 540              		.loc 1 183 14 is_stmt 0 view .LVU124
 541 0010 55F8083C 		ldr	r3, [r5, #-8]
 542              		.loc 1 183 8 view .LVU125
 543 0014 A342     		cmp	r3, r4
 544 0016 13D3     		bcc	.L54
 545              		.loc 1 183 37 discriminator 1 view .LVU126
 546 0018 2C46     		mov	r4, r5
 547              	.LVL39:
 548              	.L44:
 184:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 185:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #ifdef UNITY_EXCLUDE_STDLIB_MALLOC /* Optimization if memory is expandable */
 186:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     {
 187:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         size_t old_total_size = unity_size_round_up(guard->size + sizeof(end));
 188:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 189:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         if ((oldMem == unity_heap + heap_index - old_total_size) &&
 190:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             ((heap_index - old_total_size + unity_size_round_up(size + sizeof(end))) <= UNITY_INTER
 191:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         {
 192:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             release_memory(oldMem);    /* Not thread-safe, like unity_heap generally */
 193:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****             return unity_malloc(size); /* No memcpy since data is in place */
 194:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         }
 195:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 196:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** #endif
 197:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     newMem = unity_malloc(size);
 198:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (newMem == NULL) return NULL; /* Do not release old memory */
 199:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(newMem, oldMem, guard->size);
 200:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     release_memory(oldMem);
ARM GAS  /tmp/cc8lDV7w.s 			page 15


 201:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     return newMem;
 202:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 549              		.loc 1 202 1 view .LVU127
 550 001a 2046     		mov	r0, r4
 551 001c 38BD     		pop	{r3, r4, r5, pc}
 552              	.LVL40:
 553              	.L51:
 168:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 554              		.loc 1 168 25 is_stmt 1 discriminator 1 view .LVU128
 168:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 555              		.loc 1 168 32 is_stmt 0 discriminator 1 view .LVU129
 556 001e 0846     		mov	r0, r1
 557              	.LVL41:
 168:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 558              		.loc 1 168 32 discriminator 1 view .LVU130
 559 0020 FFF7FEFF 		bl	unity_malloc
 560              	.LVL42:
 168:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 561              		.loc 1 168 32 discriminator 1 view .LVU131
 562 0024 0446     		mov	r4, r0
 563              	.LVL43:
 168:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** 
 564              		.loc 1 168 32 view .LVU132
 565 0026 F8E7     		b	.L44
 566              	.LVL44:
 567              	.L52:
 173:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         UNITY_TEST_FAIL(Unity.CurrentTestLineNumber, "Buffer overrun detected during realloc()");
 568              		.loc 1 173 9 is_stmt 1 view .LVU133
 569 0028 2846     		mov	r0, r5
 570 002a FFF7FEFF 		bl	release_memory
 571              	.LVL45:
 174:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 572              		.loc 1 174 9 view .LVU134
 573 002e 0C4B     		ldr	r3, .L55
 574 0030 1969     		ldr	r1, [r3, #16]
 575 0032 0C48     		ldr	r0, .L55+4
 576 0034 FFF7FEFF 		bl	UnityFail
 577              	.LVL46:
 578              	.L53:
 179:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****         return NULL;
 579              		.loc 1 179 9 view .LVU135
 580 0038 2846     		mov	r0, r5
 581 003a FFF7FEFF 		bl	release_memory
 582              	.LVL47:
 180:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 583              		.loc 1 180 9 view .LVU136
 180:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     }
 584              		.loc 1 180 16 is_stmt 0 view .LVU137
 585 003e ECE7     		b	.L44
 586              	.L54:
 197:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (newMem == NULL) return NULL; /* Do not release old memory */
 587              		.loc 1 197 5 is_stmt 1 view .LVU138
 197:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     if (newMem == NULL) return NULL; /* Do not release old memory */
 588              		.loc 1 197 14 is_stmt 0 view .LVU139
 589 0040 2046     		mov	r0, r4
 590 0042 FFF7FEFF 		bl	unity_malloc
 591              	.LVL48:
ARM GAS  /tmp/cc8lDV7w.s 			page 16


 198:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(newMem, oldMem, guard->size);
 592              		.loc 1 198 5 is_stmt 1 view .LVU140
 198:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(newMem, oldMem, guard->size);
 593              		.loc 1 198 8 is_stmt 0 view .LVU141
 594 0046 0446     		mov	r4, r0
 595              	.LVL49:
 198:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     memcpy(newMem, oldMem, guard->size);
 596              		.loc 1 198 8 view .LVU142
 597 0048 0028     		cmp	r0, #0
 598 004a E6D0     		beq	.L44
 199:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     release_memory(oldMem);
 599              		.loc 1 199 5 is_stmt 1 view .LVU143
 600 004c 55F8082C 		ldr	r2, [r5, #-8]
 601 0050 2946     		mov	r1, r5
 602 0052 FFF7FEFF 		bl	memcpy
 603              	.LVL50:
 200:External/Unity-2.5.2/extras/memory/src/unity_memory.c ****     return newMem;
 604              		.loc 1 200 5 view .LVU144
 605 0056 2846     		mov	r0, r5
 606 0058 FFF7FEFF 		bl	release_memory
 607              	.LVL51:
 201:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 608              		.loc 1 201 5 view .LVU145
 201:External/Unity-2.5.2/extras/memory/src/unity_memory.c **** }
 609              		.loc 1 201 12 is_stmt 0 view .LVU146
 610 005c DDE7     		b	.L44
 611              	.L56:
 612 005e 00BF     		.align	2
 613              	.L55:
 614 0060 00000000 		.word	Unity
 615 0064 00000000 		.word	.LC3
 616              		.cfi_endproc
 617              	.LFE9:
 619              		.section	.rodata.end,"a"
 620              		.align	2
 623              	end:
 624 0000 454E4400 		.ascii	"END\000"
 625              		.section	.data.malloc_fail_countdown,"aw"
 626              		.align	2
 629              	malloc_fail_countdown:
 630 0000 FFFFFFFF 		.word	-1
 631              		.section	.bss.malloc_count,"aw",%nobits
 632              		.align	2
 635              	malloc_count:
 636 0000 00000000 		.space	4
 637              		.text
 638              	.Letext0:
 639              		.file 2 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/machine/setjmp.h"
 640              		.file 3 "/usr/local/src/arm-gnu-toolchain-13.2/lib/gcc/arm-none-eabi/13.2.1/include/stddef.h"
 641              		.file 4 "External/Unity-2.5.2/src/unity_internals.h"
 642              		.file 5 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/string.h"
 643              		.file 6 "/usr/local/src/arm-gnu-toolchain-13.2/arm-none-eabi/include/stdlib.h"
 644              		.file 7 "<built-in>"
ARM GAS  /tmp/cc8lDV7w.s 			page 17


DEFINED SYMBOLS
                            *ABS*:00000000 unity_memory.c
     /tmp/cc8lDV7w.s:19     .text.unity_size_round_up:00000000 $t
     /tmp/cc8lDV7w.s:24     .text.unity_size_round_up:00000000 unity_size_round_up
     /tmp/cc8lDV7w.s:47     .text.isOverrun:00000000 $t
     /tmp/cc8lDV7w.s:52     .text.isOverrun:00000000 isOverrun
     /tmp/cc8lDV7w.s:99     .text.isOverrun:00000020 $d
     /tmp/cc8lDV7w.s:623    .rodata.end:00000000 end
     /tmp/cc8lDV7w.s:104    .text.release_memory:00000000 $t
     /tmp/cc8lDV7w.s:109    .text.release_memory:00000000 release_memory
     /tmp/cc8lDV7w.s:142    .text.release_memory:00000014 $d
     /tmp/cc8lDV7w.s:635    .bss.malloc_count:00000000 malloc_count
     /tmp/cc8lDV7w.s:147    .text.UnityMalloc_StartTest:00000000 $t
     /tmp/cc8lDV7w.s:153    .text.UnityMalloc_StartTest:00000000 UnityMalloc_StartTest
     /tmp/cc8lDV7w.s:175    .text.UnityMalloc_StartTest:00000010 $d
     /tmp/cc8lDV7w.s:629    .data.malloc_fail_countdown:00000000 malloc_fail_countdown
     /tmp/cc8lDV7w.s:181    .rodata.UnityMalloc_EndTest.str1.4:00000000 $d
     /tmp/cc8lDV7w.s:185    .text.UnityMalloc_EndTest:00000000 $t
     /tmp/cc8lDV7w.s:191    .text.UnityMalloc_EndTest:00000000 UnityMalloc_EndTest
     /tmp/cc8lDV7w.s:225    .text.UnityMalloc_EndTest:0000001c $d
     /tmp/cc8lDV7w.s:233    .text.UnityMalloc_MakeMallocFailAfterCount:00000000 $t
     /tmp/cc8lDV7w.s:239    .text.UnityMalloc_MakeMallocFailAfterCount:00000000 UnityMalloc_MakeMallocFailAfterCount
     /tmp/cc8lDV7w.s:256    .text.UnityMalloc_MakeMallocFailAfterCount:00000008 $d
     /tmp/cc8lDV7w.s:261    .rodata.unity_malloc.str1.4:00000000 $d
     /tmp/cc8lDV7w.s:265    .text.unity_malloc:00000000 $t
     /tmp/cc8lDV7w.s:271    .text.unity_malloc:00000000 unity_malloc
     /tmp/cc8lDV7w.s:366    .text.unity_malloc:0000004c $d
     /tmp/cc8lDV7w.s:373    .rodata.unity_free.str1.4:00000000 $d
     /tmp/cc8lDV7w.s:377    .text.unity_free:00000000 $t
     /tmp/cc8lDV7w.s:383    .text.unity_free:00000000 unity_free
     /tmp/cc8lDV7w.s:441    .text.unity_free:00000024 $d
     /tmp/cc8lDV7w.s:447    .text.unity_calloc:00000000 $t
     /tmp/cc8lDV7w.s:453    .text.unity_calloc:00000000 unity_calloc
     /tmp/cc8lDV7w.s:495    .rodata.unity_realloc.str1.4:00000000 $d
     /tmp/cc8lDV7w.s:499    .text.unity_realloc:00000000 $t
     /tmp/cc8lDV7w.s:505    .text.unity_realloc:00000000 unity_realloc
     /tmp/cc8lDV7w.s:614    .text.unity_realloc:00000060 $d
     /tmp/cc8lDV7w.s:620    .rodata.end:00000000 $d
     /tmp/cc8lDV7w.s:626    .data.malloc_fail_countdown:00000000 $d
     /tmp/cc8lDV7w.s:632    .bss.malloc_count:00000000 $d

UNDEFINED SYMBOLS
strcmp
free
UnityFail
Unity
malloc
memset
memcpy
